import{_ as o}from"./ValaxyMain.vue_vue_type_style_index_0_lang-BGpM6e1g.js";import{a as d,p as k,o as c,c as g,w as a,f as E,r as l,h as s,i}from"./app-LCyKOYob.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-DIcUs049.js";import"./YunCard.vue_vue_type_script_setup_true_lang-Ci8jF6-i.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-EKcp1q_H.js";import"./index-C7yU5XnD.js";const y=s("h2",{id:"java当中提供的spi",tabindex:"-1"},[i("Java当中提供的SPI "),s("a",{class:"header-anchor",href:"#java当中提供的spi","aria-label":'Permalink to "Java当中提供的SPI"'},"​")],-1),m=s("blockquote",null,[s("p",null,[i("在目录"),s("code",null,"resource/META-INF/services"),i("下以接口全限定名作为文件名，文件内容为其实现类，一个文件对应一个接口。")])],-1),u=s("p",null,[i("文件名为Animals接口的全限定名"),s("code",null,"com.ecjtu.api.Animals"),i("文件内容为其实现类的全限定类名，一行一个。")],-1),v=s("div",{style:{"max-height":"300px"},class:"language-txt vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"txt"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"com.ecjtu.api.Cat  ")]),i(`
`),s("span",{class:"line"},[s("span",null,"com.ecjtu.api.Dog")])])]),s("button",{class:"collapse"})],-1),F=s("p",null,[s("strong",null,"定义接口")],-1),b=s("div",{style:{"max-height":"300px"},class:"language-java vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"java"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"public"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," interface"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Animals"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"	void"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," call"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"();  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),s("button",{class:"collapse"})],-1),A=s("p",null,[s("strong",null,"定义实现类")],-1),f=s("div",{style:{"max-height":"300px"},class:"language-java vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"java"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"//Cat类")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"public"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," class"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Cat"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," implements"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Animals"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	@"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"Override"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"	public"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," void"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," call"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() {  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"		System.out."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"println"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"我是猫：斯!"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	}  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"//Dog类")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"public"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," class"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Dog"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," implements"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Animals"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	@"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"Override"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"	public"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," void"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," call"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"() {  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"		System.out."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"println"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"我是狗：giao!"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	}  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),s("button",{class:"collapse"})],-1),S=s("p",null,[s("strong",null,"Java提供的SPI使用ServiceLoader来加载对应接口的实现类")],-1),_=s("div",{style:{"max-height":"300px"},class:"language-java vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"java"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"ServiceLoader<"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"Animals"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"> load "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ServiceLoader."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"load"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(Animals.class);  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"for"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (Animals animals1 "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," load) {  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	animals1."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"call"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"();  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),s("button",{class:"collapse"})],-1),C=s("h2",{id:"springboot-spring-提供的spi",tabindex:"-1"},[i("SpringBoot(Spring)提供的SPI "),s("a",{class:"header-anchor",href:"#springboot-spring-提供的spi","aria-label":'Permalink to "SpringBoot(Spring)提供的SPI"'},"​")],-1),D=s("blockquote",null,[s("p",null,[i("在目录"),s("code",null,"resource/META-INF"),i("下创建文件名为"),s("code",null,"spring.factories"),i("的文件，文件内容为各个接口的全限定名及其实现类，以键值对的形式，一个文件中可以有多个接口及其多个实现类的定义。多个实现类之间以英文逗号分隔")])],-1),B=s("p",null,[s("strong",null,[s("code",null,"spring.factories"),i("文件内容")]),i("，键是接口全限定名，值为其实现类的全限定名，逗号分隔多个实现类。")],-1),P=s("div",{style:{"max-height":"300px"},class:"language-txt vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"txt"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"com.ecjtu.api.Animals=\\  ")]),i(`
`),s("span",{class:"line"},[s("span",null,"com.ecjtu.api.Dog,\\  ")]),i(`
`),s("span",{class:"line"},[s("span",null,"com.ecjtu.api.Cat")])])]),s("button",{class:"collapse"})],-1),I=s("p",null,[s("strong",null,[i("使用"),s("code",null,"SpringFactoriesLoader"),i("来加载接口的实现类")])],-1),j=s("div",{style:{"max-height":"300px"},class:"language-java vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"java"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"List<"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"Animals"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"> animals "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," SpringFactoriesLoader."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"loadFactories"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(Animals.class, "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"null"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"for"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (Animals animal "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," animals) {  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"	animal."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"call"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"();  ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),s("button",{class:"collapse"})],-1),$=s("h2",{id:"小结",tabindex:"-1"},[i("小结 "),s("a",{class:"header-anchor",href:"#小结","aria-label":'Permalink to "小结"'},"​")],-1),x=s("p",null,"Spring提供的SPI比Java提供的更加方便，不需要多个文件，一个文件即可定义全部接口及其实现类。都可以实现根据定义的bean信息并实例化，是SpringBoot自动配置的原理（自动加载配置类）。",-1),R={__name:"SPI",setup(J,{expose:p}){const e=JSON.parse('{"title":"Java与Spring中的SPI机制","description":"","frontmatter":{"title":"Java与Spring中的SPI机制","date":"2024-8-1","categories":"SPI","tags":["SPI"]},"headers":[{"level":2,"title":"Java当中提供的SPI","slug":"java当中提供的spi","link":"#java当中提供的spi","children":[]},{"level":2,"title":"SpringBoot(Spring)提供的SPI","slug":"springboot-spring-提供的spi","link":"#springboot-spring-提供的spi","children":[]},{"level":2,"title":"小结","slug":"小结","link":"#小结","children":[]}],"relativePath":"pages/posts/notes/SPI.md","path":"/home/runner/work/blog-code/blog-code/pages/posts/notes/SPI.md","lastUpdated":1723028448000}'),h=d(),n=e.frontmatter||{};return h.meta.frontmatter=Object.assign(h.meta.frontmatter||{},e.frontmatter||{}),k("pageData",e),k("valaxy:frontmatter",n),globalThis.$frontmatter=n,p({frontmatter:{title:"Java与Spring中的SPI机制",date:"2024-8-1",categories:"SPI",tags:["SPI"]}}),(t,N)=>{const r=o;return c(),g(r,{frontmatter:E(n)},{"main-content-md":a(()=>[y,m,u,v,F,b,A,f,S,_,C,D,B,P,I,j,$,x]),"main-header":a(()=>[l(t.$slots,"main-header")]),"main-header-after":a(()=>[l(t.$slots,"main-header-after")]),"main-nav":a(()=>[l(t.$slots,"main-nav")]),"main-content":a(()=>[l(t.$slots,"main-content")]),"main-content-after":a(()=>[l(t.$slots,"main-content-after")]),"main-nav-before":a(()=>[l(t.$slots,"main-nav-before")]),"main-nav-after":a(()=>[l(t.$slots,"main-nav-after")]),comment:a(()=>[l(t.$slots,"comment")]),footer:a(()=>[l(t.$slots,"footer")]),aside:a(()=>[l(t.$slots,"aside")]),"aside-custom":a(()=>[l(t.$slots,"aside-custom")]),default:a(()=>[l(t.$slots,"default")]),_:3},8,["frontmatter"])}}};export{R as default};
